μ£Όμ–΄μ§„ ν…μ¤νΈ μλ°” νμΌ(UserServiceTest.java)μ€ Spring Frameworkμ™€ JUnit4λ¥Ό μ΄μ©ν•μ—¬ UserService ν΄λμ¤μ κΈ°λ¥(μ‚¬μ©μ μ¶”κ°€, μ΅°ν, μμ •, μ¤‘λ³µ ν™•μΈ, λ©λ΅ μ΅°ν λ“±)μ„ ν…μ¤νΈν•λ” ν†µν•© ν…μ¤νΈ ν΄λμ¤μ…λ‹λ‹¤.

μ΄μ™€ κ°™μ€ ν…μ¤νΈ νμΌμ„ μƒμ„±ν•κΈ° μ„ν• ν”„λ΅¬ν”„νΈλ¥Ό λ§λ“¤κΈ° μ„ν•΄μ„λ” λ‹¤μκ³Ό κ°™μ€ μ”μ†λ“¤μ΄ ν•„μ”ν•©λ‹λ‹¤:

β… λ©μ 

UserServiceμ μ£Όμ” λ©”μ„λ“μ— λ€ν• ν†µν•© ν…μ¤νΈλ¥Ό μ‘μ„±ν•λ‹¤.
(Spring + JUnit4 κΈ°λ°, ν…μ¤νΈ μΌ€μ΄μ¤λ³„ λ©”μ„λ“)

β… μ „μ  μ΅°κ±΄

Spring Framework μ‚¬μ© μ¤‘

UserService μΈν„°νμ΄μ¤μ™€ κµ¬ν„μ²΄(userServiceImpl)κ°€ μ΅΄μ¬

λ„λ©”μΈ ν΄λμ¤ Userμ™€ κ²€μƒ‰ μ΅°κ±΄ ν΄λμ¤ Search μ΅΄μ¬

XML κΈ°λ° μ„¤μ •(commonservice.xml)μΌλ΅ λΉ μ„¤μ •λ¨

π― ν”„λ΅¬ν”„νΈ μμ‹
Spring Frameworkμ™€ JUnit4λ¥Ό μ‚¬μ©ν•΄ `UserService` ν΄λμ¤μ κΈ°λ¥μ„ ν…μ¤νΈν•λ” ν†µν•© ν…μ¤νΈ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ¤.

### μ „μ 
- `UserService` μΈν„°νμ΄μ¤λ” λ‹¤μ κΈ°λ¥μ„ κ°€μ§„λ‹¤:
  1. `void addUser(User user)`
  2. `User getUser(String userId)`
  3. `void updateUser(User user)`
  4. `boolean checkDuplication(String userId)`
  5. `Map<String, Object> getUserList(Search search)`
  
- `User` ν΄λμ¤λ” λ‹¤μ ν•„λ“λ¥Ό κ°€μ§„λ‹¤:
  - String userId
  - String userName
  - String password
  - String ssn
  - String phone
  - String addr
  - String email

- `Search` ν΄λμ¤λ” λ‹¤μ ν•„λ“λ¥Ό κ°€μ§„λ‹¤:
  - int currentPage
  - int pageSize
  - String searchCondition
  - String searchKeyword

### μ΅°κ±΄
- `@RunWith(SpringJUnit4ClassRunner.class)`μ™€ `@ContextConfiguration`μΌλ΅ Spring μ„¤μ • νμΌμ„ λ΅λ”©
- `userServiceImpl` λΉμ„ μ£Όμ…λ°›μ•„ ν…μ¤νΈ
- ν…μ¤νΈ λ©”μ„λ“λ” `@Test`λ¥Ό μ‚¬μ©ν•μ—¬ μ‘μ„±
- `Assert` ν΄λμ¤λ¥Ό μ‚¬μ©ν•΄ κ° λ©”μ„λ“μ μμƒ κ²°κ³Όλ¥Ό κ²€μ¦
- μμ™Έ μ²λ¦¬λ¥Ό μ„ν•΄ ν…μ¤νΈ λ©”μ„λ“λ” `throws Exception` μ‚¬μ©
- μ½μ†” μ¶λ ¥μ€ μ£Όμ„μΌλ΅ λ‚¨κ²¨μ„ μ„ νƒμ μΌλ΅ ν™•μΈν•  μ μκ² ν•¨

### ν…μ¤νΈ μΌ€μ΄μ¤ ν¬ν•¨
1. addUser: μ‚¬μ©μ μ¶”κ°€ ν›„ getUserλ΅ κ²€μ¦
2. getUser: μ΅΄μ¬ν•λ” μ‚¬μ©μ μ •λ³΄ μ΅°ν
3. updateUser: μ‚¬μ©μ μ •λ³΄ λ³€κ²½ ν›„ κ²€μ¦
4. checkDuplication: μ‚¬μ©μ ID μ¤‘λ³µ μ—¬λ¶€ ν™•μΈ
5. getUserList: μ „μ²΄ λ©λ΅ μ΅°ν, μ΅°κ±΄λ³„ μ΅°ν (userId, userName)

μ΄ μ΅°κ±΄μ„ λ°”νƒ•μΌλ΅ ν…μ¤νΈ ν΄λμ¤ `UserServiceTest.java`λ¥Ό μƒμ„±ν•΄μ¤.


μ΄ ν”„λ΅¬ν”„νΈλ¥Ό μ‚¬μ©ν•λ©΄, ν…μ¤νΈ ν΄λμ¤ μ „μ²΄λ¥Ό μ½”λ“λ΅ μƒμ„±ν•κ±°λ‚ νΉμ€ ν…μ¤νΈ μΌ€μ΄μ¤λ³„λ΅ λ¶€λ¶„μ μΌλ΅ μƒμ„±ν•  μλ„ μμµλ‹λ‹¤.

ν•„μ”μ— λ”°λΌ λ‹¤μκ³Ό κ°™μ΄ κµ¬μ²΄μ μΌλ΅ λ¶„λ¦¬ν•΄μ„ μ”μ²­ν•  μλ„ μμµλ‹λ‹¤:

"addUser λ©”μ„λ“λ¥Ό ν…μ¤νΈν•λ” JUnit4 + Spring ν†µν•© ν…μ¤νΈ λ©”μ„λ“ λ§λ“¤μ–΄μ¤"

"UserServiceμ getUserList λ©”μ„λ“λ¥Ό λ‹¤μ–‘ν• μ΅°κ±΄μΌλ΅ ν…μ¤νΈν•λ” λ©”μ„λ“ λ§λ“¤μ–΄μ¤"

"UserServiceμ— λ€ν• μ „μ²΄ ν…μ¤νΈ ν΄λμ¤ μƒμ„±ν•΄μ¤. λ‹¨, XML μ„¤μ • κΈ°λ°μΌλ΅ Beanμ„ μ£Όμ…λ°›κ² ν•΄μ¤"

ν•„μ”ν•λ©΄ μ΄ ν”„λ΅¬ν”„νΈλ¥Ό μΆ€ λ” μ••μ¶•ν•, ν™•μ¥ν•, ν•κΈ€/μλ¬Έ λ²„μ „μΌλ΅λ„ λ°”κΏ”λ“λ¦΄ μ μμ–΄μ”. μ›ν•μ‹λ‚μ”?

λ‚μ λ§:
μ••μ¶•ν•μΌλ΅
ChatGPTμ λ§:

λ¬Όλ΅ μ…λ‹λ‹¤! λ‹¤μμ€ μ••μ¶•ν•μΌλ΅ μ •λ¦¬λ ν”„λ΅¬ν”„νΈμ…λ‹λ‹¤:

π― μ••μ¶•ν• ν”„λ΅¬ν”„νΈ
Spring Frameworkμ™€ JUnit4λ΅ `UserService`μ κΈ°λ¥μ„ ν…μ¤νΈν•λ” ν΄λμ¤ μ‘μ„±. 

### μ΅°κ±΄
- `@RunWith(SpringJUnit4ClassRunner.class)`λ΅ Spring μ„¤μ • νμΌ λ΅λ”©
- `userServiceImpl` λΉ μ£Όμ…
- ν…μ¤νΈ λ©”μ„λ“μ— `@Test` μ‚¬μ©, `Assert`λ΅ κ²°κ³Ό κ²€μ¦
- `throws Exception` μ‚¬μ©
- `User` ν΄λμ¤: `userId`, `userName`, `password`, `ssn`, `phone`, `addr`, `email`
- `Search` ν΄λμ¤: `currentPage`, `pageSize`, `searchCondition`, `searchKeyword`

### ν…μ¤νΈ μΌ€μ΄μ¤
1. `addUser`: μ‚¬μ©μ μ¶”κ°€ ν›„ `getUser`λ΅ κ²€μ¦
2. `getUser`: μ‚¬μ©μ μ •λ³΄ μ΅°ν
3. `updateUser`: μ‚¬μ©μ μ •λ³΄ μμ • ν›„ κ²€μ¦
4. `checkDuplication`: ID μ¤‘λ³µ μ—¬λ¶€ ν™•μΈ
5. `getUserList`: λ©λ΅ μ΅°ν (μ΅°κ±΄λ³„)

`UserServiceTest.java` μƒμ„±.












μ••μ¶•ν• ν”„λ΅¬ν”„νΈ (μ–΄λ…Έν…μ΄μ… ν¬ν•¨)
Spring Frameworkμ™€ JUnit4λ΅ `UserService`μ κΈ°λ¥μ„ ν…μ¤νΈν•λ” ν΄λμ¤ μ‘μ„±.

### μ΅°κ±΄
- `@RunWith(SpringJUnit4ClassRunner.class)`λ΅ Spring μ„¤μ • νμΌ λ΅λ”©
  - **JUnit**μ™€ **Spring**μ ν†µν•©μ„ μ„ν• μ–΄λ…Έν…μ΄μ…
- `@ContextConfiguration(locations = {"classpath:config/commonservice.xml"})`λ΅ Spring XML μ„¤μ • νμΌ μ§€μ •
  - **Spring μ„¤μ •** νμΌ μ„μΉλ¥Ό μ§€μ •
- `@Autowired`λ΅ `userServiceImpl` λΉ μ£Όμ…
  - **DI(Dependency Injection)**: μλ™μΌλ΅ `userServiceImpl` μ£Όμ…
- `@Qualifier("userServiceImpl")`λ΅ νΉμ • κµ¬ν„μ²΄ μ§€μ • (ν•„μ”ν• κ²½μ°)
  - **λΉμ μ΄λ¦„**μ„ μ§€μ •ν•μ—¬ νΉμ • κµ¬ν„μ²΄λ¥Ό μ£Όμ…
- `@Test` λ©”μ„λ“μ— μ μ©ν•μ—¬ ν…μ¤νΈ μ‹¤ν–‰
  - **JUnit4**μ ν…μ¤νΈ λ©”μ„λ“λ¥Ό λ‚νƒ€λ‚΄λ” μ–΄λ…Έν…μ΄μ…
- `@Before`, `@After` λ“± (μµμ…): ν…μ¤νΈ μ „/ν›„ μ‹¤ν–‰ν•  λ©”μ„λ“ μ„¤μ •
  - μμ‹: `@Before`λ΅ μ΄κΈ°ν™” μ½”λ“, `@After`λ΅ μ •λ¦¬ μ½”λ“ μ‹¤ν–‰

### ν…μ¤νΈ μΌ€μ΄μ¤
1. `addUser`: μ‚¬μ©μ μ¶”κ°€ ν›„ `getUser`λ΅ κ²€μ¦
2. `getUser`: μ‚¬μ©μ μ •λ³΄ μ΅°ν
3. `updateUser`: μ‚¬μ©μ μ •λ³΄ μμ • ν›„ κ²€μ¦
4. `checkDuplication`: ID μ¤‘λ³µ μ—¬λ¶€ ν™•μΈ
5. `getUserList`: λ©λ΅ μ΅°ν (μ΅°κ±΄λ³„)

`UserServiceTest.java` μƒμ„±.

μ–΄λ…Έν…μ΄μ… κ΄€λ ¨ μ„¤λ…:

@RunWith(SpringJUnit4ClassRunner.class):

Spring ν™κ²½μ—μ„ JUnit ν…μ¤νΈλ¥Ό μ‹¤ν–‰ν•λ„λ΅ μ„¤μ •ν•©λ‹λ‹¤. Springμ JUnit ν†µν•© μ§€μ›μ„ μ‚¬μ©ν•μ—¬ DIμ™€ λΉ κ΄€λ¦¬λ¥Ό ν•  μ μκ² ν•΄μ¤λ‹λ‹¤.

@ContextConfiguration(locations = {"classpath:config/commonservice.xml"}):

Springμ μ„¤μ • νμΌμ„ μ§€μ •ν•λ” μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤. μ΄ μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ Spring μ»¨ν…μ΄λ„κ°€ ApplicationContextλ¥Ό μ„¤μ •ν•  μ μκ² λ©λ‹λ‹¤.

@Autowired:

Springμ—μ„ ν•΄λ‹Ή λΉμ„ μλ™μΌλ΅ μ£Όμ…ν•΄μ£Όλ” μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ **userServiceImpl**κ³Ό κ°™μ€ λΉμ„ ν…μ¤νΈ ν΄λμ¤μ—μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

@Qualifier("userServiceImpl"):

λ™μΌ νƒ€μ…μ λΉμ΄ μ—¬λ¬ κ° μμ„ κ²½μ°, μ›ν•λ” κµ¬μ²΄μ μΈ λΉμ„ μ„ νƒν•κΈ° μ„ν• μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ userServiceImplκ³Ό κ°™μ€ μ΄λ¦„μ„ κ°€μ§„ λΉμ„ μ£Όμ…λ°›μ„ λ• μ‚¬μ©ν•©λ‹λ‹¤.

@Test:

JUnit4μ—μ„ ν…μ¤νΈ λ©”μ„λ“μ„μ„ λ‚νƒ€λ‚΄λ” μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤. ν•΄λ‹Ή λ©”μ„λ“λ¥Ό ν…μ¤νΈ μΌ€μ΄μ¤λ΅ μ‹¤ν–‰ν•  μ μκ² ν•΄μ¤λ‹λ‹¤.

@Before / @After (μ„ νƒ μ‚¬ν•­):

κ°κ° ν…μ¤νΈ μ „κ³Ό ν…μ¤νΈ ν›„μ— μ‹¤ν–‰λ  λ©”μ„λ“λ¥Ό μ§€μ •ν•λ” μ–΄λ…Έν…μ΄μ…μ…λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ @Beforeλ¥Ό μ‚¬μ©ν•μ—¬ ν…μ¤νΈ μ‹¤ν–‰ μ „ μ΄κΈ°ν™” μ‘μ—…μ„ ν•  μ μμµλ‹λ‹¤.